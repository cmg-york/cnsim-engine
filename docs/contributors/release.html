<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0 from src/site/markdown/contributors/release.md at 2025-12-21
 | Rendered using Apache Maven Fluido Skin 2.1.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0" />
    <title>Release Workflow – CNSim Engine</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-2.1.0.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
    <script src="../js/apache-maven-fluido-2.1.0.min.js"></script>
<script>
          window.MathJax = {
            tex: {
              inlineMath: [['$', '$'], ['\\(', '\\)']],
              displayMath: [['$$', '$$'], ['\\[', '\\]']],
              macros: {
                  R: '{\\mathbb{R}}',
                  N: '{\\mathbb{N}}',
                  Z: '{\\mathbb{Z}}',
                  Q: '{\\mathbb{Q}}',
                  C: '{\\mathbb{C}}',
                  ge: '{\\geq}',
                  le: '{\\leq}'
                }
            },
            svg: { fontCache: 'global' }
          };
          </script>
          <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<meta name="main_authors" content="[&quot;Nina Dang &lt;nina2022@my.yorku.ca&gt;&quot;]" /><meta name="contributors" content="[&quot;&quot;]" /><meta name="reviewers" content="[&quot;Sotirios Liaskos &lt;liaskos@yorku.ca&gt;&quot;]" />  </head>
  <body>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2025-12-21<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 0.0.2-SNAPSHOT</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Documentation</li>
    <li><a href="../documentation/overview.html">Conceptual Overview</a></li>
    <li><a href="../documentation/main.html">Architecture: Main Loop</a></li>
    <li><a href="../documentation/events.html">Architecture: Events</a></li>
    <li><a href="../documentation/samplers.html">Architecture: Samplers</a></li>
    <li><a href="../documentation/nodes.html">Architecture: Nodes and Behaviors</a></li>
    <li><a href="../documentation/reporting.html">Architecture: Reporting</a></li>
    <li><a href="../documentation/units.html">Units of Measurement</a></li>
   <li class="nav-header">API Reference</li>
    <li><a href="../apidocs/index.html">API Reference</a></li>
   <li class="nav-header">Contributor&apos;s Guide</li>
    <li><a href="../contributors/formatting.html">Programming Style</a></li>
    <li><a href="../contributors/git-workflow.html">Git Main Workflow</a></li>
    <li><a href="../contributors/commits.html">Commit Conventions</a></li>
    <li><a href="../contributors/git-habits.html">Git and Commit Habits</a></li>
    <li><a href="../contributors/documentation.html">Documentation Workflow</a></li>
    <li class="active"><a>Release Workflow</a></li>
    <li><a href="../contributors/deploy.html">Deployment Workflow</a></li>
    <li><a href="../contributors/adr.html">Architectural Decisions</a></li>
    <li><a href="../contributors/testing.html">Testing Conventions</a></li>
   <li class="nav-header">Maven Info</li>
    <li><a href="../project-info.html">Overview</a></li>
    <li><a href="../dependencies.html">Dependencies</a></li>
    <li><a href="../dependency-info.html">Dependency Information</a></li>
    <li><a href="../dependency-management.html">Dependency Management</a></li>
    <li><a href="../plugin-management.html">Plugin Management</a></li>
    <li><a href="../plugins.html">Plugins</a></li>
    <li><a href="../summary.html">Summary</a></li>
    <li><a href="../team.html">Team</a></li>
   <li class="nav-header">Test Coverage Report</li>
    <li><a href="../jacoco/index.html">JaCoCo Report</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
<a href="https://maven.apache.org/" class="builtBy" target="_blank"><img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span10">
<section><a id="Release_Workflow"></a>
<h1>Release Workflow</h1><section><section><a id="a.28under_construction.29"></a>
<h3><em>(under construction)</em></h3>
<p>[ concrete <code>mvn</code> and <code>git</code> steps to produce the next release. Separate from deployment. ]</p><hr /></section></section></section><section><a id="Release_Process"></a>
<h1>Release Process</h1><!-- TOC -->

<ul>

<li><a href="#release-process">Release Process</a>
<ul>

<li><a href="#with-maven-release-plugin">With Maven Release Plugin</a>
<ul>

<li><a href="#requirements">Requirements</a>
<ul>

<li><a href="#setup-git-authentication">Setup Git Authentication</a>
<ul>

<li><a href="#add-ssh-key-to-the-ssh-agent">Add SSH key to the ssh-agent</a></li>
<li><a href="#add-public-key-to-github">Add public key to GitHub</a></li>
<li><a href="#quick-auth-test">Quick auth test</a></li>
</ul></li>
</ul></li>
<li><a href="#a1-add-the-release-plugin-to-pomxml">1. Add the Release Plugin to <code>pom.xml</code></a></li>
<li><a href="#a2-optional-dry-run">2. [OPTIONAL] Dry run</a></li>
<li><a href="#a3-prepare--release">3. Prepare + Release</a>
<ul>

<li><a href="#prepare">Prepare</a></li>
<li><a href="#perform--deploy-from-the-tag-">Perform (deploy from the tag)</a></li>
</ul></li>
<li><a href="#a4-manually-create-the-github-release-page">4. Manually create the GitHub Release page</a></li>
</ul></li>
<li><a href="#optional-release-please-github-action">[OPTIONAL] Release-Please GitHub Action</a>
<ul>

<li><a href="#preparation">Preparation</a></li>
<li><a href="#release-process">Release process</a></li>
</ul></li>
<li><a href="#references">References</a></li>
</ul></li>
</ul><!-- TOC -->
<section><a id="With_Maven_Release_Plugin"></a>
<h2>With Maven Release Plugin</h2><section><a id="Requirements"></a>
<h3>Requirements</h3>
<ul>

<li>Maven + JDK</li>
<li>Git</li>
<li><code>pom.xml</code> prepared for Central deployment. See deployment guide for more info
<ul>

<li>Have correct <code>&lt;scm&gt;</code> URLs in <code>pom.xml</code> with respective protocol (HTTPS/SSH)</li>
<li>For SSH, you need to have SSH key (see below for the steps). For HTTPS, have Personal Access Tokens (PATs).</li>
</ul></li>
<li>On SNAPSHOT version in <code>pom.xml</code></li>
<li>On a release branch (mindful of branch protection or push permission)</li>
<li>Clean working tree: no uncommitted changes, <code>git status</code> empty</li>
</ul><section><a id="Setup_Git_Authentication"></a>
<h4>Setup Git Authentication</h4>
<p>With <code>&lt;developerConnection&gt;scm:git:git@github.com:...</code> in <code>pom.xml</code>, we will use SSH key approach.</p>
<blockquote>

<p>Note: Alternative is Personal Access Tokens (PATs) for <code>&lt;developerConnection&gt;scm:git:https://github.com/...</code></p>
</blockquote>
<p>Generate SSH key pair with your GitHub email address:</p>

<pre class="prettyprint"><code class="language-bash">ssh-keygen -t ed25519 -C &quot;your_email@example.com&quot;
</code></pre>
<p>You will be prompted to:</p>
<ol style="list-style-type: decimal;">

<li>Enter file in which to save the key (press Enter to accept default <code>~/.ssh/id_ed25519</code>)</li>
<li>Enter a passphrase</li>
</ol>
<p>This creates:</p>
<ul>

<li>Private key: <code>~/.ssh/id_ed25519</code> (keep secret)</li>
<li>Public key: <code>~/.ssh/id_ed25519.pub</code> (shareable)</li>
</ul><section><a id="Add_SSH_key_to_the_ssh-agent"></a>
<h5>Add SSH key to the ssh-agent</h5>
<details>
  <summary>Windows</summary>

<pre class="prettyprint"><code class="language-bash"># Start the ssh-agent in the background.
eval &quot;$(ssh-agent -s)&quot;

# add key to the agent
ssh-add ~/.ssh/id_ed25519
</code></pre>
</details>
<details>
  <summary>macOS</summary>

<pre class="prettyprint"><code class="language-bash"># Start the ssh-agent in the background.
eval &quot;$(ssh-agent -s)&quot;

# For macOS Sierra 10.12.2 or later, you will need to modify the ~/.ssh/config
# Check if config exists
open ~/.ssh/config

# If config doesn't exist, make one
touch ~/.ssh/config
</code></pre>
<p>Modify the config to have the following:</p>

<pre class="prettyprint"><code class="language-text">Host github.com
  AddKeysToAgent yes
  UseKeychain yes
  IdentityFile ~/.ssh/id_ed25519
</code></pre>
<blockquote>

<ul>

<li>If you chose not to add a passphrase to your key, you should omit the <code>UseKeychain</code> line.</li>
<li>If you see a <code>Bad configuration option: usekeychain</code> error, add an additional line to the configuration's' <code>Host *.github.com</code> section.</li>
</ul>

<pre class="prettyprint"><code class="language-text">Host github.com
  IgnoreUnknown UseKeychain
</code></pre>
</blockquote>

<pre class="prettyprint"><code class="language-bash"># Add key to the agent
ssh-add --apple-use-keychain ~/.ssh/id_ed25519
</code></pre>
</details>
</section><section><a id="Add_public_key_to_GitHub"></a>
<h5>Add public key to GitHub</h5>
<ol style="list-style-type: decimal;">

<li>Copy this output:</li>
</ol>

<pre class="prettyprint"><code class="language-bash">cat ~/.ssh/id_ed25519.pub
</code></pre>
<ol style="list-style-type: decimal;">

<li>In GitHub, go to <code>Settings</code> &gt; <code>SSH and GPG keys</code> &gt; <code>New SSH key</code></li>
</ol>
<p><img src="./images/githubNewSSHKey.png" alt="Add new SSH key in GitHub" /></p>
<ol style="list-style-type: decimal;">

<li>Add a title</li>
<li>Key type: <code>Authentication Key</code></li>
<li>In &#x201c;Key&#x201d; field, paste the public key</li>
<li>Click &#x201c;Add SSH key&#x201d; button</li>
</ol></section><section><a id="Quick_auth_test"></a>
<h5>Quick auth test</h5>

<pre class="prettyprint"><code class="language-bash">ssh -T git@github.com
</code></pre>
<p>Should see the following message if SSH key is set up correctly with GitHub:</p>

<pre class="prettyprint"><code class="language-text">Hi &lt;username&gt;! You've successfully authenticated, but GitHub does not provide shell access.
</code></pre><hr /></section></section></section><section><a id="a1._Add_the_Release_Plugin_to_pom.xml"></a>
<h3>1. Add the Release Plugin to <code>pom.xml</code></h3>

<pre class="prettyprint"><code class="language-xml">&lt;build&gt;
  &lt;plugins&gt;
    &lt;!-- Maven Release Plugin --&gt;
    &lt;plugin&gt;
      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
      &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;
      &lt;version&gt;3.1.1&lt;/version&gt;
      &lt;configuration&gt;
        &lt;!-- Tag name like v0.1.0 --&gt;
        &lt;tagNameFormat&gt;v@{project.version}&lt;/tagNameFormat&gt;

        &lt;!-- Build to run in release:prepare (prevents broken releases) --&gt;
        &lt;preparationGoals&gt;clean verify&lt;/preparationGoals&gt;

        &lt;!-- Profile to use during perform (Central publish profile) --&gt;
        &lt;releaseProfiles&gt;deployment&lt;/releaseProfiles&gt;

        &lt;!-- Goal to run during perform (deploy from the tag) --&gt;
        &lt;goals&gt;deploy&lt;/goals&gt;

        &lt;!-- push commits &amp; tag to origin during release:prepare--&gt;
        &lt;pushChanges&gt;true&lt;/pushChanges&gt;
      &lt;/configuration&gt;
    &lt;/plugin&gt;
  &lt;/plugins&gt;
&lt;/build&gt;
</code></pre></section><section><a id="a2._.5BOPTIONAL.5D_Dry_run"></a>
<h3>2. [OPTIONAL] Dry run</h3>

<pre class="prettyprint"><code class="language-bash"># on release branch, clean tree
mvn -B release:prepare -DdryRun=true \
  -DreleaseVersion=0.1.1 \
  -DdevelopmentVersion=0.1.2-SNAPSHOT \
  -Dtag=v0.1.1
</code></pre>
<p><img src="./images/dryRunResult.png" alt="Files generated from dry-run" /></p>

<pre class="prettyprint"><code class="language-bash"># review generated files (release.properties, release POM, and next snapshot POM)
mvn release:clean  # clean up the dry-run
</code></pre>
<blockquote>

<p><code>-DdryRun=true</code> on release:prepare simulates the prepare phase without making Git commits/tags or POM edits</p>
</blockquote>
<blockquote>

<p><code>release:clean</code> cleans up temporary files created by release:prepare (<code>release.properties</code>, backup POMs, dry-run output)</p>
</blockquote></section><section><a id="a3._Prepare_.2B_Release"></a>
<h3>3. Prepare + Release</h3><section><a id="Prepare"></a>
<h4>Prepare</h4>

<pre class="prettyprint"><code class="language-bash">mvn -B release:prepare \
  -DreleaseVersion=0.1.1 \
  -DdevelopmentVersion=0.1.2-SNAPSHOT \
  -Dtag=v0.1.1
</code></pre>
<p>What this does:</p>
<ul>

<li>updates <code>0.1.1-SNAPSHOT</code> to <code>0.1.1</code> in the POM</li>
<li>commit <code>&#x201c;[maven-release-plugin] prepare release v0.1.1&#x201d;</code></li>
<li>create tag <code>v0.1.1</code></li>
<li>update POM to 0.1.2-SNAPSHOT</li>
<li>commit <code>&#x201c;[maven-release-plugin] prepare for next development iteration&#x201d;</code></li>
<li>if <code>&lt;pushChanges&gt;</code> is true, push both commits and tag to origin</li>
</ul>
<blockquote>

<p>Note: maven-release-plugin by default does not read commit messages (following Conventional Commits) to
choose the next version.</p>
<p>However, you can do it via custom Version Policy (plugin param: -DprojectVersionPolicyId=&#x2026;) like in
<a href="https://maven.basjes.nl/" class="externalLink">https://maven.basjes.nl/</a></p>
</blockquote>
<details>
  <summary>What to do if <code>&lt;pushChanges&gt;</code> is false?</summary>

<p>You can keep the prepare-made tag and push it (tag on release-branch commit).</p>
<p>It is fine if you don&#x2019;t squash/rebase the pull request</p>

<pre class="prettyprint"><code class="language-bash"># push the branch and tag
git push -u origin &lt;release-branch&gt;
git push origin v0.1.1
</code></pre>
</details>
<details>
  <summary>How to undo a failed <code>release:prepare</code>?</summary>

<p>To restore the POM to the state before <code>release:prepare</code>, clean up generated temp/backup files, and
undo the commits and tag (that weren't pushed to remote yet), you can do <code>release:rollback</code></p>

<pre class="prettyprint"><code class="language-bash">mvn release:rollback
</code></pre>
</details>
<details>
  <summary>How to resolve <code>Permission denied (publickey)</code>?</summary>

<p>You may encounter this error. For instance:</p>

<pre class="prettyprint"><code class="language-text">[ERROR] Failed to execute goal org.apache.maven.plugins:maven-release-plugin:3.1.1:perform (default-cli) on project xml-validation-central-maven-test: Unable to checkout from SCM
[ERROR] Provider message:
[ERROR] The git-clone command failed.
[ERROR] Command output:
[ERROR] Cloning into 'checkout'...
[ERROR] git@github.com: Permission denied (publickey).
[ERROR] fatal: Could not read from remote repository.
</code></pre>
<p>Check if SSH key/agent is set up and if public key has been added to GitHub.
Revisit <a href="#setup-git-authentication">Setup Git Authentication</a></p>
</details>
</section><section><a id="Perform_.28deploy_from_the_tag.29"></a>
<h4>Perform (deploy from the tag)</h4>

<pre class="prettyprint"><code class="language-bash">mvn release:perform

# If have a custom settings.xml file
# mvn release:perform -s custom_settings.xml
</code></pre>
<p>What this does:</p>
<ul>

<li>Checks out the release tag into <code>target/checkout</code></li>
<li>Runs configured goals (<code>deploy</code>) with the profile (<code>deployment</code>)
<ul>

<li><code>mvn -Pdeployment deploy</code> - sign and upload artifacts to Maven Central via <code>central-publishing-maven-plugin</code></li>
</ul></li>
</ul></section></section><section><a id="a4._Manually_create_the_GitHub_Release_page"></a>
<h3>4. Manually create the GitHub Release page</h3>
<p>With tag v0.1.1 exists</p>
<ol style="list-style-type: decimal;">

<li>Go to GitHub &gt; Releases &gt; Draft a new release</li>
<li>Pick tag v0.1.1</li>
<li>In Title &amp; body, paste your notes/changelog</li>
<li>Publish the release</li>
</ol>
<p>Example:</p>
<p><img src="./images/githubNewRelease.png" alt="Draft new release in GitHub" /></p><hr /></section></section><section><a id="a.5BOPTIONAL.5D_Release-Please_GitHub_Action"></a>
<h2>[OPTIONAL] Release-Please GitHub Action</h2>
<p>This GitHub workflow uses Release-Please
to manage versioning, tagging, changelog, and GitHub Releases based on Conventional Commits. It can be a
Maven Release Plugin replacement for release management.</p>
<p>Whenever commits are merged to main, the action reads commit messages to determine the next SemVer,
opens/updates a release pull request. Once the release pull request is merged to main, it creates a tag (vX.Y.Z),
updates the <code>pom.xml</code> version, and publishes a release page.</p><section><a id="Preparation"></a>
<h3>Preparation</h3>
<p><code>.github/workflows/release-please.yml</code>:</p>

<pre class="prettyprint"><code class="language-yaml">name: release-please
on:
  push:
    branches: [ main ]
  workflow_dispatch: {}

permissions:
  contents: write
  pull-requests: write

concurrency:
  group: release-please-${{ github.ref }}
  cancel-in-progress: true

jobs:
  release:
    runs-on: ubuntu-latest
    steps:
      - name: Release Please
        uses: googleapis/release-please-action@v4
        with:
          release-type: maven
          manifest-file: &quot;.release-please-manifest.json&quot;
          config-file: &quot;release-please-config.json&quot;
</code></pre>
<p><code>.release-please-manifest.json</code>:</p>

<pre class="prettyprint"><code class="language-json">{
  &quot;.&quot;: &quot;1.1.0&quot;
}
</code></pre>
<p>This tracks the current release version.</p>
<p><code>release-please-config.json</code>:</p>

<pre class="prettyprint"><code class="language-json">{
  &quot;$schema&quot;: &quot;https://raw.githubusercontent.com/googleapis/release-please/main/schemas/config.json&quot;,
  &quot;include-v-in-tag&quot;: true,
  &quot;extra-files&quot;: [
    {
      &quot;type&quot;: &quot;xml&quot;,
      &quot;path&quot;: &quot;pom.xml&quot;,
      &quot;xpath&quot;: &quot;//_:project/_:version&quot;
    }
  ],
  &quot;changelog-types&quot;: [
    { &quot;type&quot;: &quot;feat&quot;, &quot;section&quot;: &quot;Features&quot; },
    { &quot;type&quot;: &quot;fix&quot;,  &quot;section&quot;: &quot;Bug Fixes&quot; },
    { &quot;type&quot;: &quot;perf&quot;, &quot;section&quot;: &quot;Performance&quot; },
    { &quot;type&quot;: &quot;refactor&quot;, &quot;section&quot;: &quot;Refactoring&quot;, &quot;hidden&quot;: true },
    { &quot;type&quot;: &quot;docs&quot;, &quot;section&quot;: &quot;Documentation&quot;, &quot;hidden&quot;: false },
    { &quot;type&quot;: &quot;test&quot;, &quot;section&quot;: &quot;Tests&quot;, &quot;hidden&quot;: true },
    { &quot;type&quot;: &quot;build&quot;,&quot;section&quot;: &quot;Build System&quot;, &quot;hidden&quot;: true },
    { &quot;type&quot;: &quot;ci&quot;,   &quot;section&quot;: &quot;CI&quot;, &quot;hidden&quot;: true },
    { &quot;type&quot;: &quot;chore&quot;,&quot;section&quot;: &quot;Chores&quot;, &quot;hidden&quot;: true },
    { &quot;type&quot;: &quot;revert&quot;,&quot;section&quot;: &quot;Reverts&quot;, &quot;hidden&quot;: true }
  ]
}
</code></pre></section><section><a id="Release_process"></a>
<h3>Release process</h3>
<ol style="list-style-type: decimal;">

<li>Release-Please GitHub Action opens a release pull request</li>
<li>You review and merge the pull request</li>
<li>The workflow creates the tag vX.Y.Z, updates <code>pom.xml</code> version + <code>CHANGELOG.md</code>, and makes a GitHub Release</li>
<li>You locally check out that tag and run mvn deploy to publish to Central</li>
</ol>

<pre class="prettyprint"><code class="language-bash"># After merging release pull request

git fetch --all --tags

# Check out the released tag
git checkout vX.Y.Z

# pom.xml now should be X.Y.Z (non-SNAPSHOT)

# Build, sign, and deploy to Central (do not run maven-release-plugin here)
mvn -Pdeployment clean deploy

# If have a custom settings.xml file
# mvn -Pdeployment clean deploy -s custom_settings.xml
</code></pre></section></section><section><a id="References"></a>
<h2>References</h2>
<p>SSH</p>
<ul>

<li><a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent" class="externalLink">https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent</a></li>
<li><a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account" class="externalLink">https://docs.github.com/en/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account</a></li>
</ul>
<p>Maven Release Plugin</p>
<ul>

<li><a href="https://maven.apache.org/maven-release/maven-release-plugin/" class="externalLink">https://maven.apache.org/maven-release/maven-release-plugin/</a></li>
<li><a href="https://maven.apache.org/maven-release/maven-release-plugin/usage.html" class="externalLink">https://maven.apache.org/maven-release/maven-release-plugin/usage.html</a></li>
</ul>
<p>Conventional Commits for the Maven Release Plugin</p>
<ul>

<li><a href="https://maven.basjes.nl/" class="externalLink">https://maven.basjes.nl/</a></li>
</ul>
<p>Release-Please</p>
<ul>

<li><a href="https://github.com/googleapis/release-please-action" class="externalLink">https://github.com/googleapis/release-please-action</a></li>
<li><a href="https://github.com/googleapis/release-please" class="externalLink">https://github.com/googleapis/release-please</a></li>
</ul></section></section>        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>©      2025
<a href="https://cmg.info.yorku.ca/">Conceptual Modeling Group @ York University</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>
